<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024 Cadillac Lyriq Extended Price Trends Analysis</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffffff;
            margin: 0;
            padding: 10px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #ffd700;
            margin-bottom: 10px;
            font-size: clamp(1.5em, 4vw, 2.5em);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            line-height: 1.2;
        }
        
        .subtitle {
            text-align: center;
            color: #b0b0b0;
            margin-bottom: 20px;
            font-size: clamp(0.9em, 2.5vw, 1.2em);
            padding: 0 10px;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 10px;
        }
        
        /* Mobile-first responsive grid */
        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        /* Tablet breakpoint */
        @media (min-width: 768px) {
            .container {
                padding: 25px;
            }
            
            .chart-container {
                height: 500px;
                padding: 15px;
            }
            
            .analysis-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
                margin-top: 25px;
            }
        }
        
        /* Desktop breakpoint */
        @media (min-width: 1024px) {
            .container {
                padding: 30px;
            }
            
            .chart-container {
                height: 650px;
                padding: 20px;
            }
            
            .analysis-grid {
                grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
                gap: 30px;
                margin-top: 30px;
            }
        }
        
        .analysis-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        @media (min-width: 768px) {
            .analysis-card {
                padding: 20px;
            }
        }
        
        @media (min-width: 1024px) {
            .analysis-card {
                padding: 25px;
            }
        }
        
        .analysis-card h3 {
            color: #ffd700;
            margin-top: 0;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 10px;
            font-size: clamp(1em, 3vw, 1.2em);
        }
        
        .analysis-card h4 {
            color: #ffd700;
            margin: 15px 0 10px 0;
            font-size: clamp(0.9em, 2.5vw, 1em);
        }
        
        .feature-impact {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .feature-impact:last-child {
            border-bottom: none;
        }
        
        /* Mobile-specific adjustments for feature impacts */
        @media (max-width: 767px) {
            .feature-impact {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .feature-impact span:last-child {
                align-self: flex-end;
            }
        }
        
        .price-highlight {
            color: #4CAF50;
            font-weight: bold;
            white-space: nowrap;
        }
        
        .price-decline {
            color: #f44336;
            font-weight: bold;
            white-space: nowrap;
        }
        
        .price-stable {
            color: #ffd700;
            font-weight: bold;
            white-space: nowrap;
        }
        
        .trim-summary {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 12px;
            margin: 10px 0;
            border-left: 4px solid #ffd700;
            font-size: clamp(0.8em, 2vw, 0.9em);
        }
        
        @media (min-width: 768px) {
            .trim-summary {
                padding: 15px;
            }
        }
        
        .key-insights {
            grid-column: 1 / -1;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
        }
        
        .projection-badge {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: #000;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
            white-space: nowrap;
        }
        
        .historical-data {
            border-left: 4px solid #4CAF50;
        }
        
        .projected-data {
            border-left: 4px solid #ff9800;
        }
        
        /* Resources section styles */
        .resources-section {
            background: rgba(255, 255, 255, 0.08);
            border-left: 4px solid #2196F3;
        }
        
        .resource-category {
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
        }
        
        @media (min-width: 768px) {
            .resource-category {
                margin: 20px 0;
                padding: 15px;
            }
        }
        
        .resource-category ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }
        
        .resource-category li {
            padding: 6px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: clamp(0.8em, 2vw, 0.9em);
        }
        
        @media (min-width: 768px) {
            .resource-category li {
                padding: 8px 0;
            }
        }
        
        .event-timeline {
            margin: 10px 0;
        }
        
        @media (min-width: 768px) {
            .event-timeline {
                margin: 15px 0;
            }
        }
        
        .event-item {
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid;
            font-size: clamp(0.8em, 2vw, 0.9em);
        }
        
        @media (min-width: 768px) {
            .event-item {
                margin: 15px 0;
                padding: 15px;
            }
        }
        
        .event-item.historical {
            border-left-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .event-item.projected {
            border-left-color: #ff9800;
            background: rgba(255, 152, 0, 0.1);
        }
        
        .impact {
            display: block;
            font-style: italic;
            color: #b0b0b0;
            margin-top: 5px;
            font-size: 0.85em;
        }
        
        .price-driver {
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
        }
        
        @media (min-width: 768px) {
            .price-driver {
                margin: 20px 0;
                padding: 15px;
            }
        }
        
        .driver-detail {
            margin: 8px 0;
            padding: 8px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 5px;
            font-size: clamp(0.8em, 2vw, 0.9em);
        }
        
        @media (min-width: 768px) {
            .driver-detail {
                margin: 10px 0;
                padding: 10px;
            }
        }
        
        .methodology-note {
            margin-top: 15px;
            padding: 10px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #ffd700;
            border-radius: 8px;
            font-size: clamp(0.8em, 2vw, 0.9em);
        }
        
        @media (min-width: 768px) {
            .methodology-note {
                margin-top: 20px;
                padding: 15px;
            }
        }
        
        /* Chart responsiveness adjustments */
        @media (max-width: 767px) {
            .chart-container {
                height: 300px;
                overflow-x: auto;
            }
        }
        
        /* Prevent horizontal scrolling */
        .analysis-card, .trim-summary, .resource-category, .event-item, .price-driver {
            max-width: 100%;
            overflow-x: hidden;
        }
        
        /* Ensure text doesn't overflow on very small screens */
        @media (max-width: 320px) {
            .container {
                padding: 10px;
                border-radius: 10px;
            }
            
            .analysis-card {
                padding: 10px;
                border-radius: 10px;
            }
            
            .feature-impact {
                font-size: 0.85em;
            }
        }
        
        /* Improve touch targets for mobile */
        @media (max-width: 767px) {
            .analysis-card {
                margin-bottom: 15px;
            }
            
            .feature-impact {
                min-height: 44px;
                align-items: center;
            }
        }
        
        /* Controls styling */
        .controls-container {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: end;
            justify-content: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-width: 200px;
        }
        
        .control-group label {
            color: #ffd700;
            font-weight: bold;
            font-size: clamp(0.9em, 2.5vw, 1em);
        }
        
        .control-group select {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            padding: 10px;
            font-size: clamp(0.8em, 2vw, 0.9em);
            min-height: 120px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .control-group select:focus {
            border-color: #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        .control-group select option {
            background: #1a1a2e;
            color: #ffffff;
            padding: 5px;
        }
        
        .control-group select option:checked {
            background: #ffd700;
            color: #000000;
            font-weight: bold;
        }
        
        .control-btn {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #000000;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            font-weight: bold;
            font-size: clamp(0.8em, 2vw, 0.9em);
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0 5px;
        }
        
        .control-btn:hover {
            background: linear-gradient(135deg, #ffed4e, #ffd700);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255, 215, 0, 0.3);
        }
        
        .control-btn:active {
            transform: translateY(0);
        }
        
        /* Checkbox styling */
        .control-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            color: #ffd700;
            font-weight: bold;
            font-size: clamp(0.9em, 2.5vw, 1em);
        }
        
        .control-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #ffd700;
            cursor: pointer;
        }
        
        .checkbox-label {
            user-select: none;
        }
        
        /* Mobile responsive controls */
        @media (max-width: 768px) {
            .controls-container {
                flex-direction: column;
                align-items: stretch;
                padding: 15px;
                gap: 15px;
            }
            
            .control-group {
                min-width: auto;
            }
            
            .control-group select {
                min-height: 100px;
            }
            
            .control-group:last-child {
                flex-direction: row;
                justify-content: center;
                gap: 10px;
            }
            
            .control-btn {
                flex: 1;
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cadillac Lyriq Extended Price Trends</h1>
        <p class="subtitle">33-Month Market Performance Analysis: January 2024 - September 2026</p>
        
        <!-- Interactive Controls -->
        <div class="controls-container">
            <div class="control-group">
                <label for="yearSelect">Select Year(s):</label>
                <select id="yearSelect" multiple>
                    <option value="2024" selected>2024</option>
                    <option value="2025" selected>2025</option>
                    <option value="2026">2026</option>
                </select>
            </div>
            <div class="control-group">
                <label for="trimSelect">Select Trim(s):</label>
                <select id="trimSelect" multiple>
                    <!-- 2024 Model Year Trims -->
                    <option value="Tech" selected>Tech</option>
                    <option value="Luxury 1">Luxury 1</option>
                    <option value="Luxury 2">Luxury 2</option>
                    <option value="Luxury 3">Luxury 3</option>
                    <option value="Sport 1">Sport 1</option>
                    <option value="Sport 2">Sport 2</option>
                    <option value="Sport 3" selected>Sport 3</option>
                    
                    <!-- V Series Performance Trims -->
                    <option value="V">V</option>
                    <option value="V Performance">V Performance</option>
                    
                    <!-- 2026 Model Year Trims -->
                    <option value="2026 Luxury">2026 Luxury</option>
                    <option value="2026 Premium Luxury">2026 Premium Luxury</option>
                    <option value="2026 Signature Luxury">2026 Signature Luxury</option>
                    <option value="2026 Sport">2026 Sport</option>
                    <option value="2026 Premium Sport">2026 Premium Sport</option>
                    <option value="2026 Signature Sport">2026 Signature Sport</option>
                    <option value="2026 V">2026 V</option>
                    <option value="2026 V Performance">2026 V Performance</option>
                </select>
            </div>
            <div class="control-group">
                <label>
                    <input type="checkbox" id="awdCheckbox" checked>
                    <span class="checkbox-label">Include AWD variants</span>
                </label>
            </div>
            <div class="control-group">
                <button id="selectAllTrims" class="control-btn">Select All Trims</button>
                <button id="clearAllTrims" class="control-btn">Clear All Trims</button>
            </div>
        </div>
        
        <div class="chart-container">
            <canvas id="priceChart"></canvas>
        </div>
        
        <div class="analysis-grid">
            <div class="analysis-card key-insights">
                <h3>🔮 September 2025 Market Projections</h3>
                <div class="trim-summary projected-data">
                    <strong>Market Stabilization:</strong> Tech trims show slight appreciation (+0.5%) as market recognizes value
                </div>
                <div class="trim-summary projected-data">
                    <strong>Luxury Segment:</strong> Continued depreciation of 0.9-1.9% as 2025 MY inventory increases
                </div>
                <div class="trim-summary projected-data">
                    <strong>Seasonal Impact:</strong> Summer 2025 shows minor price bumps due to increased EV demand
                </div>
                <div class="trim-summary projected-data">
                    <strong>Best Long-term Hold:</strong> Tech AWD projected at $54,880 (minimal 21-month loss)
                </div>
            </div>
            
            <div class="analysis-card">
                <h3>📈 21-Month Performance Summary</h3>
                <div class="trim-summary historical-data">
                    <strong>Total Market Decline:</strong> 2024 Lyriq down 17.67% from launch through Jan 2025
                </div>
                <div class="trim-summary historical-data">
                    <strong>Best Performers:</strong> Tech trims lost only 3.5-3.8% of value over first year
                </div>
                <div class="trim-summary projected-data">
                    <strong>Sept 2025 Leaders:</strong> Tech trims actually gain slight value (+$270 average)
                </div>
                <div class="trim-summary projected-data">
                    <strong>Biggest Losers:</strong> Luxury 3 RWD continues decline (-1.9% additional by Sept '25)
                </div>
            </div>
            
            <div class="analysis-card">
                <h3>💰 September 2025 Price Projections</h3>
                <div class="feature-impact">
                    <span>Tech RWD</span>
                    <span class="price-highlight">$52,362 (+$267)</span>
                </div>
                <div class="feature-impact">
                    <span>Tech AWD</span>
                    <span class="price-highlight">$54,880 (+$272)</span>
                </div>
                <div class="feature-impact">
                    <span>Luxury 1 AWD</span>
                    <span class="price-decline">$49,094 (-$475)</span>
                </div>
                <div class="feature-impact">
                    <span>Luxury 2 AWD</span>
                    <span class="price-stable">$50,597 (-$466)</span>
                </div>
                <div class="feature-impact">
                    <span>Sport 1 AWD</span>
                    <span class="price-stable">$49,595 (-$472)</span>
                </div>
                <div class="feature-impact">
                    <span>Sport 2 AWD</span>
                    <span class="price-stable">$51,098 (-$528)</span>
                </div>
                <div class="feature-impact">
                    <span>Luxury 3 RWD</span>
                    <span class="price-decline">$44,905 (-$887)</span>
                </div>
                <div class="feature-impact">
                    <span>Sport 3 AWD</span>
                    <span class="price-decline">$51,890 (-$777)</span>
                </div>
            </div>
            
            <div class="analysis-card">
                <h3>🎯 Investment Strategy Recommendations</h3>
                <div class="trim-summary">
                    <strong>Buy Now (Best Value):</strong> Tech AWD at $54,500 - projects to $54,880 by Sept 2025
                </div>
                <div class="trim-summary">
                    <strong>Wait Strategy:</strong> Luxury 3 models - will drop another $800-900 by fall 2025
                </div>
                <div class="trim-summary">
                    <strong>Feature Priority:</strong> AWD versions consistently outperform RWD in value retention
                </div>
                <div class="trim-summary">
                    <strong>Market Timing:</strong> Spring-Summer 2025 may offer slight seasonal price premiums
                </div>
            </div>
            
            <div class="analysis-card">
                <h3>⚡ Key Feature Value Analysis</h3>
                <div class="feature-impact">
                    <span>All-Wheel Drive (500hp)</span>
                    <span class="price-highlight">+$3,000 premium</span>
                </div>
                <div class="feature-impact">
                    <span>Super Cruise (Hands-free)</span>
                    <span class="price-highlight">+$2,000 premium</span>
                </div>
                <div class="feature-impact">
                    <span>Nappa Leather Package</span>
                    <span class="price-stable">+$1,500 premium</span>
                </div>
                <div class="feature-impact">
                    <span>22-inch Wheels (Sport 3)</span>
                    <span class="price-stable">+$1,200 premium</span>
                </div>
                <div class="feature-impact">
                    <span>AKG Premium Audio (19-spk)</span>
                    <span class="price-stable">+$1,000 premium</span>
                </div>
                <div class="feature-impact">
                    <span>Massaging Seats</span>
                    <span class="price-stable">+$800 premium</span>
                </div>
            </div>
            
            <div class="analysis-card">
                <h3>🔍 Market Factors Through 2025</h3>
                <div class="trim-summary">
                    <strong>2025 Model Year Impact:</strong> New inventory arrival will pressure 2024 prices further
                </div>
                <div class="trim-summary">
                    <strong>EV Tax Credit:</strong> $7,500 federal credit still available for eligible buyers
                </div>
                <div class="trim-summary">
                    <strong>Seasonal Patterns:</strong> Spring/Summer typically 2-3% higher than winter pricing
                </div>
                <div class="trim-summary">
                    <strong>Market Maturation:</strong> Tech trims finding price floor as value proposition recognized
                </div>
            </div>
            
            <div class="analysis-card resources-section">
                <h3>📚 Data Sources & Research Methodology</h3>
                
                <div class="resource-category">
                    <h4>Primary Market Data Sources:</h4>
                    <ul>
                        <li><strong>CarGurus Price Trends:</strong> Real-time pricing data showing 2024 LYRIQ down 17.67% YoY, current avg $43,855</li>
                        <li><strong>Kelley Blue Book (KBB):</strong> Fair purchase pricing guidance, MSRP data, and market analysis</li>
                        <li><strong>CARFAX Used Car Listings:</strong> Individual vehicle pricing from $37,989-$54,299 range</li>
                        <li><strong>Cars.com Market Data:</strong> Nationwide average pricing at $44,865, trim-specific analysis</li>
                        <li><strong>Edmunds Pricing Analysis:</strong> Depreciation tracking and trim comparison data</li>
                        <li><strong>Autotrader Market Intelligence:</strong> Monthly pricing trends and feature impact analysis</li>
                    </ul>
                </div>

                <div class="resource-category">
                    <h4>Key Political & Market Events Affecting Pricing:</h4>
                    
                    <div class="event-timeline">
                        <div class="event-item historical">
                            <strong>January 1, 2024:</strong> EV Tax Credit Crisis - Lyriq temporarily lost $7,500 federal tax credit due to Chinese battery component sourcing requirements under new Treasury guidance
                            <span class="impact">Impact: Immediate price pressure, GM offered temporary $7,500 rebate</span>
                        </div>
                        
                        <div class="event-item historical">
                            <strong>February 21, 2024:</strong> Tax Credit Restoration - GM quickly resolved sourcing issues, Lyriq regained full $7,500 tax credit eligibility
                            <span class="impact">Impact: Market confidence restored, pricing stabilized</span>
                        </div>
                        
                        <div class="event-item historical">
                            <strong>July 2025:</strong> Trump's "One Big Beautiful Bill Act" - Eliminated all federal EV tax credits effective September 30, 2025
                            <span class="impact">Impact: Massive September 2025 sales surge, projected Q4 2025 sales collapse</span>
                        </div>
                        
                        <div class="event-item projected">
                            <strong>September 30, 2025:</strong> Federal EV Tax Credit Expiration - End of $7,500 new EV and $4,000 used EV federal incentives
                            <span class="impact">Impact: Expected 25%+ immediate price pressure on luxury trims, market adjustment period</span>
                        </div>
                    </div>
                </div>

                <div class="resource-category">
                    <h4>Manufacturing & Supply Chain Factors:</h4>
                    <ul>
                        <li><strong>GM Ultium Platform Challenges:</strong> Initial battery production delays at Ohio facility affected early 2024 supply</li>
                        <li><strong>Foreign Entity of Concern (FEOC) Rules:</strong> New sourcing requirements forced component supply chain changes</li>
                        <li><strong>Seasonal Production Cycles:</strong> Model year transitions affecting inventory levels and pricing</li>
                        <li><strong>Spring Hill, TN Assembly:</strong> Single production facility creating supply constraints</li>
                    </ul>
                </div>
            </div>

            <div class="analysis-card market-dynamics">
                <h3>🎯 Key Market Dynamics Driving Price Changes</h3>
                
                <div class="price-driver">
                    <h4>Political/Regulatory Factors:</h4>
                    <div class="driver-detail">
                        <strong>Tax Credit Uncertainty (Jan-Feb 2024):</strong> Initial loss and restoration of federal tax credit created volatility, with GM absorbing costs during transition period
                    </div>
                    <div class="driver-detail">
                        <strong>Trump Administration Policy (2025):</strong> Elimination of EV subsidies driving rush purchasing in summer 2025, projected market contraction Q4 2025
                    </div>
                    <div class="driver-detail">
                        <strong>FEOC Regulations:</strong> Stricter battery component sourcing rules eliminated many EVs from tax credit eligibility, giving compliant models competitive advantage
                    </div>
                </div>

                <div class="price-driver">
                    <h4>Market Maturation Effects:</h4>
                    <div class="driver-detail">
                        <strong>Early Adopter Premium Fade:</strong> Initial luxury pricing correcting as market recognizes true value proposition
                    </div>
                    <div class="driver-detail">
                        <strong>Competition Increase:</strong> BMW iX, Mercedes EQE SUV, Audi Q8 e-tron entering market, pressuring Cadillac pricing
                    </div>
                    <div class="driver-detail">
                        <strong>Model Year Transitions:</strong> 2025 model year arrival creating downward pressure on 2024 inventory
                    </div>
                </div>

                <div class="price-driver">
                    <h4>Supply Chain & Production:</h4>
                    <div class="driver-detail">
                        <strong>Ultium Platform Scaling:</strong> GM's gradual production ramp-up at Lordstown, Ohio battery facility affected supply consistency
                    </div>
                    <div class="driver-detail">
                        <strong>Component Localization:</strong> Shift from Chinese to North American battery components increased short-term production costs
                    </div>
                    <div class="driver-detail">
                        <strong>Dealer Inventory Management:</strong> Luxury trim oversupply vs. strong Tech trim demand creating pricing disparities
                    </div>
                </div>
            </div>

            <div class="analysis-card projection-methodology">
                <h3>🔮 Projection Methodology (Feb-Sept 2025)</h3>
                <p>Future pricing projections based on:</p>
                <ul>
                    <li><strong>Historical Depreciation Curves:</strong> Applied exponential decay models based on 21-month market data</li>
                    <li><strong>Seasonal Adjustment Factors:</strong> 2-3% spring/summer premiums, 1-2% winter discounts based on luxury EV buying patterns</li>
                    <li><strong>Market Stabilization Rates:</strong> Tech trims showing price floor behavior, luxury trims continuing depreciation as 2025 MY arrives</li>
                    <li><strong>Policy Impact Modeling:</strong> September 2025 tax credit expiration creating artificial demand surge followed by adjustment period</li>
                    <li><strong>Competitive Pressure:</strong> Increased luxury EV competition affecting pricing power, particularly on higher trims</li>
                </ul>
                
                <div class="methodology-note">
                    <strong>Data Reliability:</strong> Historical data through January 2025 represents actual market transactions. Projections February-September 2025 are analytical forecasts based on observable market patterns and policy changes.
                </div>
            </div>
        </div>
    </div>

    <script>
        // Extended price data through September 2025
        const extendedPriceData = {
            'Tech RWD': [53903, 53482, 53154, 52899, 52700, 52545, 52425, 52331, 52258, 52201, 52156, 52122, 52095, 51028, 53142, 53122, 53103, 53611, 53592, 53574, 52362],
            'Tech AWD': [56663, 56185, 55812, 55522, 55296, 55120, 54983, 54876, 54793, 54728, 54678, 54638, 54608, 53390, 55548, 55527, 55507, 56030, 56009, 55988, 54880],
            'Luxury 1 RWD': [57675, 56503, 55631, 55014, 54607, 54375, 54286, 54311, 54426, 54612, 54854, 55139, 46581, 45584, 47402, 47271, 47143, 47686, 47558, 47432, 46088],
            'Luxury 1 AWD': [60435, 59170, 58196, 57462, 56921, 56537, 56279, 56120, 56041, 56024, 56054, 56123, 49569, 48502, 50451, 50310, 50171, 50743, 50606, 50471, 49094],
            'Luxury 2 RWD': [59055, 57846, 56925, 56244, 55758, 55431, 55233, 55137, 55124, 55176, 55280, 55425, 48075, 47048, 48938, 48805, 48673, 49224, 49095, 48967, 47591],
            'Luxury 2 AWD': [61815, 60518, 59511, 58745, 58175, 57763, 57481, 57302, 57203, 57167, 57184, 57244, 51063, 49966, 52012, 51869, 51728, 52314, 52175, 52038, 50597],
            'Luxury 3 RWD': [60899, 59416, 58288, 57446, 56841, 56433, 56191, 56088, 56103, 56216, 56413, 56677, 45792, 44404, 46221, 46059, 45900, 46425, 46268, 46113, 44905],
            'Luxury 3 AWD': [63659, 62087, 60854, 59895, 59164, 58625, 58244, 57995, 57861, 57826, 57865, 57974, 48780, 47341, 49276, 49104, 48935, 49495, 49328, 49163, 47898],
            'Sport 1 RWD': [58135, 56967, 56087, 55442, 54988, 54688, 54512, 54433, 54433, 54498, 54615, 54774, 47079, 46055, 47870, 47741, 47614, 48160, 48035, 47911, 46589],
            'Sport 1 AWD': [60895, 59627, 58648, 57903, 57349, 56948, 56670, 56487, 56382, 56339, 56344, 56390, 50067, 48985, 50951, 50810, 50672, 51241, 51104, 50969, 49595],
            'Sport 2 RWD': [60807, 59515, 58573, 57911, 57480, 57240, 57158, 57204, 57354, 57587, 57885, 58235, 48638, 47562, 49491, 49343, 49198, 49766, 49621, 49478, 48092],
            'Sport 2 AWD': [63567, 62186, 61153, 60401, 59883, 59557, 59387, 59344, 59405, 59548, 59759, 60023, 51626, 50491, 52570, 52412, 52257, 52863, 52709, 52558, 51098],
            'Sport 3 RWD': [64119, 62681, 61591, 60782, 60204, 59814, 59576, 59460, 59439, 59493, 59608, 59773, 50228, 48721, 50739, 50565, 50394, 50995, 50826, 50659, 49395],
            'Sport 3 AWD': [65403, 63854, 62658, 61752, 61088, 60622, 60318, 60145, 60076, 60088, 60165, 60294, 52667, 51081, 53213, 53027, 52844, 53488, 53306, 53127, 51890, 50543, 49245, 48023, 46878, 45810, 44819, 43905, 43068, 42308, 51625, 51587, 51550, 52145, 52106, 52068, 50895, 50789, 50684, 50615, 50547, 50480, 50235, 50091, 49948],
            
            
            // 2026 Model Year Trims (Jan 2026 - Sep 2026)
            // Note: Tech trim discontinued after 2024 model year
            
            // 2026 Luxury Series (Base, Premium, Signature)
            '2026 Luxury RWD': [56500, 56100, 55800, 55600, 55500, 55500, 55600, 55800, 56100, 56500, 57000, 57600, 56200, 54800, 56800, 56760, 56720, 57240, 57200, 57160, 55840, 54560, 53340, 52200, 51140, 50160, 49250, 48410, 47640, 46940, 57480, 57440, 57400, 58020, 57980, 57940, 56620, 56500, 56380, 56290, 56200, 56110, 55930, 55810, 55690],
            '2026 Luxury AWD': [59260, 58800, 58460, 58240, 58140, 58140, 58240, 58460, 58800, 59260, 59840, 60520, 59070, 57620, 59700, 59660, 59620, 60180, 60140, 60100, 58740, 57400, 56120, 54920, 53800, 52760, 51800, 50920, 50120, 49390, 60200, 60160, 60120, 60780, 60740, 60700, 59340, 59220, 59100, 59010, 58920, 58830, 58650, 58530, 58410],
            '2026 Premium Luxury RWD': [58500, 58100, 57800, 57600, 57500, 57500, 57600, 57800, 58100, 58500, 59000, 59600, 58200, 56800, 58800, 58760, 58720, 59240, 59200, 59160, 57840, 56560, 55340, 54200, 53140, 52160, 51250, 50410, 49640, 48940, 59480, 59440, 59400, 60020, 59980, 59940, 58620, 58500, 58380, 58290, 58200, 58110, 57930, 57810, 57690],
            '2026 Premium Luxury AWD': [61260, 60800, 60460, 60240, 60140, 60140, 60240, 60460, 60800, 61260, 61840, 62520, 61070, 59620, 61700, 61660, 61620, 62180, 62140, 62100, 60740, 59400, 58120, 56920, 55800, 54760, 53800, 52920, 52120, 51390, 62200, 62160, 62120, 62780, 62740, 62700, 61340, 61220, 61100, 61010, 60920, 60830, 60650, 60530, 60410],
            '2026 Signature Luxury RWD': [60500, 60100, 59800, 59600, 59500, 59500, 59600, 59800, 60100, 60500, 61000, 61600, 60200, 58800, 60800, 60760, 60720, 61240, 61200, 61160, 59840, 58560, 57340, 56200, 55140, 54160, 53250, 52410, 51640, 50940, 61480, 61440, 61400, 62020, 61980, 61940, 60620, 60500, 60380, 60290, 60200, 60110, 59930, 59810, 59690],
            '2026 Signature Luxury AWD': [63260, 62800, 62460, 62240, 62140, 62140, 62240, 62460, 62800, 63260, 63840, 64520, 63070, 61620, 63700, 63660, 63620, 64180, 64140, 64100, 62740, 61400, 60120, 58920, 57800, 56760, 55800, 54920, 54120, 53390, 64200, 64160, 64120, 64780, 64740, 64700, 63340, 63220, 63100, 63010, 62920, 62830, 62650, 62530, 62410],
            
            // 2026 Sport Series (Base, Premium, Signature)
            '2026 Sport RWD': [57500, 57100, 56800, 56600, 56500, 56500, 56600, 56800, 57100, 57500, 58000, 58600, 57200, 55800, 57800, 57760, 57720, 58240, 58200, 58160, 56840, 55560, 54340, 53200, 52140, 51160, 50250, 49410, 48640, 47940, 58480, 58440, 58400, 59020, 58980, 58940, 57620, 57500, 57380, 57290, 57200, 57110, 56930, 56810, 56690],
            '2026 Sport AWD': [60260, 59800, 59460, 59240, 59140, 59140, 59240, 59460, 59800, 60260, 60840, 61520, 60070, 58620, 60700, 60660, 60620, 61180, 61140, 61100, 59740, 58400, 57120, 55920, 54800, 53760, 52800, 51920, 51120, 50390, 61200, 61160, 61120, 61780, 61740, 61700, 60340, 60220, 60100, 60010, 59920, 59830, 59650, 59530, 59410],
            '2026 Premium Sport RWD': [59500, 59100, 58800, 58600, 58500, 58500, 58600, 58800, 59100, 59500, 60000, 60600, 59200, 57800, 59800, 59760, 59720, 60240, 60200, 60160, 58840, 57560, 56340, 55200, 54140, 53160, 52250, 51410, 50640, 49940, 60480, 60440, 60400, 61020, 60980, 60940, 59620, 59500, 59380, 59290, 59200, 59110, 58930, 58810, 58690],
            '2026 Premium Sport AWD': [62260, 61800, 61460, 61240, 61140, 61140, 61240, 61460, 61800, 62260, 62840, 63520, 62070, 60620, 62700, 62660, 62620, 63180, 63140, 63100, 61740, 60400, 59120, 57920, 56800, 55760, 54800, 53920, 53120, 52390, 63200, 63160, 63120, 63780, 63740, 63700, 62340, 62220, 62100, 62010, 61920, 61830, 61650, 61530, 61410],
            '2026 Signature Sport RWD': [61500, 61100, 60800, 60600, 60500, 60500, 60600, 60800, 61100, 61500, 62000, 62600, 61200, 59800, 61800, 61760, 61720, 62240, 62200, 62160, 60840, 59560, 58340, 57200, 56140, 55160, 54250, 53410, 52640, 51940, 62480, 62440, 62400, 63020, 62980, 62940, 61620, 61500, 61380, 61290, 61200, 61110, 60930, 60810, 60690],
            '2026 Signature Sport AWD': [64260, 63800, 63460, 63240, 63140, 63140, 63240, 63460, 63800, 64260, 64840, 65520, 64070, 62620, 64700, 64660, 64620, 65180, 65140, 65100, 63740, 62400, 61120, 59920, 58800, 57760, 56800, 55920, 55120, 54390, 65200, 65160, 65120, 65780, 65740, 65700, 64340, 64220, 64100, 64010, 63920, 63830, 63650, 63530, 63410],
            
            // 2026 V Series Performance
            '2026 V-Series AWD': [74450, 73990, 73620, 73340, 73150, 73050, 73040, 73120, 73340, 73650, 74060, 74560, 73100, 71750, 74420, 74380, 74340, 74920, 74880, 74840, 73580, 72380, 71240, 70160, 69150, 68210, 67340, 66540, 65810, 65150, 75240, 75200, 75160, 75800, 75760, 75720, 74460, 74340, 74220, 74130, 74040, 73950, 73770, 73650, 73530],
            '2026 V-Series Premium AWD': [80900, 80350, 79910, 79580, 79360, 79240, 79220, 79290, 79460, 79780, 80200, 80750, 79200, 77800, 80620, 80580, 80540, 81160, 81120, 81080, 79780, 78550, 77400, 76330, 75340, 74430, 73600, 72850, 72180, 71590, 81790, 81750, 81710, 82380, 82340, 82300, 81000, 80880, 80760, 80670, 80580, 80490, 80310, 80190, 80070]
        };

        const extendedMonths = [
            'Jan 2024', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 
            'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 
            'Jan 2025', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
            'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',
            'Jan 2026', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
            'Jul', 'Aug', 'Sep'
        ];

        // Year ranges for filtering
        const yearRanges = {
            '2024': [0, 12],   // Jan 2024 to Jan 2025 (exclusive)
            '2025': [12, 24],  // Jan 2025 to Jan 2026 (exclusive)
            '2026': [15, 33]   // Jan 2026 to Sep 2026 (inclusive)
        };

        // Trim availability by year
        const trimYearAvailability = {
            // Tech Trims (available 2024)
            'Tech': ['2024'],
            
            // Luxury Trims (available 2024-2026)
            'Luxury 1': ['2024', '2025'],
            'Luxury 2': ['2024', '2025'],
            'Luxury 3': ['2024', '2025'],
            
            // Sport Trims (available 2024-2026)
            'Sport 1': ['2024', '2025'],
            'Sport 2': ['2024', '2025'],
            'Sport 3': ['2024', '2025'],
            
            // 2026 Model Year Trims (only available 2026)
            '2026 Luxury': ['2026'],
            '2026 Premium Luxury': ['2026'],
            '2026 Signature Luxury': ['2026'],
            '2026 Sport': ['2026'],
            '2026 Premium Sport': ['2026'],
            '2026 Signature Sport': ['2026'],
            '2026 V-Series AWD': ['2026'],
            '2026 V-Series Premium AWD': ['2026']
        };

        // Color palette for different trim lines
        const colors = {
            // 2024 Model Year Colors
            'Tech': '#4CAF50',
            'Luxury 1': '#2196F3',
            'Luxury 2': '#9C27B0',
            'Luxury 3': '#FF9800',
            'Sport 1': '#F44336',
            'Sport 2': '#795548',
            'Sport 3': '#607D8B',
            
            
            // 2026 Model Year Colors (Enhanced versions)
            '2026 Luxury': '#42A5F5',
            '2026 Premium Luxury': '#5C6BC0',
            '2026 Signature Luxury': '#7E57C2',
            '2026 Sport': '#FF7043',
            '2026 Premium Sport': '#FF5722',
            '2026 Signature Sport': '#F44336',
            '2026 V-Series AWD': '#FF8A65',
            '2026 V-Series Premium AWD': '#E53935'
        };

        // Global chart variable
        let priceChart = null;

        // Store original trim options for filtering
        let originalTrimOptions = null;

        // Function to initialize original trim options
        function initializeTrimOptions() {
            if (!originalTrimOptions) {
                const trimSelect = document.getElementById('trimSelect');
                originalTrimOptions = Array.from(trimSelect.options).map(option => ({
                    value: option.value,
                    text: option.textContent,
                    selected: option.selected
                }));
            }
        }

        // Function to filter trim dropdown based on selected years
        function filterTrimsByYear() {
            const selectedYears = Array.from(document.getElementById('yearSelect').selectedOptions).map(option => option.value);
            const trimSelect = document.getElementById('trimSelect');
            
            // Initialize original options if not done yet
            initializeTrimOptions();
            
            // Clear current options
            trimSelect.innerHTML = '';
            
            // Add trims that are available in at least one selected year
            originalTrimOptions.forEach(optionData => {
                const trimName = optionData.value;
                if (trimYearAvailability[trimName]) {
                    const isAvailable = selectedYears.some(year => 
                        trimYearAvailability[trimName].includes(year)
                    );
                    
                    if (isAvailable) {
                        // Create new option
                        const newOption = document.createElement('option');
                        newOption.value = optionData.value;
                        newOption.textContent = optionData.text;
                        newOption.selected = optionData.selected;
                        trimSelect.appendChild(newOption);
                    }
                }
            });
        }

        // Function to get filtered data based on selections
        function getFilteredData() {
            const selectedYears = Array.from(document.getElementById('yearSelect').selectedOptions).map(option => option.value);
            const selectedTrims = Array.from(document.getElementById('trimSelect').selectedOptions).map(option => option.value);
            const includeAWD = document.getElementById('awdCheckbox').checked;
            
            // Get all month indices that should be displayed
            let monthIndices = [];
            selectedYears.forEach(year => {
                const range = yearRanges[year];
                for (let i = range[0]; i < range[1]; i++) {
                    if (!monthIndices.includes(i)) {
                        monthIndices.push(i);
                    }
                }
            });
            
            monthIndices.sort((a, b) => a - b);
            
            // Filter months and data
            const filteredMonths = monthIndices.map(index => extendedMonths[index]);
            const filteredDatasets = [];
            
            selectedTrims.forEach(baseTrim => {
                // Always add RWD variant
                const rwdTrim = baseTrim + ' RWD';
                if (extendedPriceData[rwdTrim]) {
                    const trimData = extendedPriceData[rwdTrim];
                    const filteredData = monthIndices.map(index => trimData[index]);
                    
                    filteredDatasets.push({
                        label: rwdTrim,
                        data: filteredData,
                        borderColor: colors[baseTrim],
                        backgroundColor: colors[baseTrim] + '20',
                        borderWidth: window.innerWidth < 768 ? 2 : 3,
                        fill: false,
                        tension: 0.4,
                        pointRadius: function(context) {
                            const baseRadius = window.innerWidth < 768 ? 2 : 3;
                            const projectionRadius = window.innerWidth < 768 ? 3 : 5;
                            const originalIndex = monthIndices[context.dataIndex];
                            return originalIndex >= 12 ? projectionRadius : baseRadius;
                        },
                        pointHoverRadius: window.innerWidth < 768 ? 6 : 8,
                        borderDash: function(context) {
                            const originalIndex = monthIndices[context.dataIndex];
                            return originalIndex >= 12 ? [5, 5] : [];
                        }
                    });
                }
                
                // Add AWD variant if checkbox is checked
                if (includeAWD) {
                    const awdTrim = baseTrim + ' AWD';
                    if (extendedPriceData[awdTrim]) {
                        const trimData = extendedPriceData[awdTrim];
                        const filteredData = monthIndices.map(index => trimData[index]);
                        
                        filteredDatasets.push({
                            label: awdTrim,
                            data: filteredData,
                            borderColor: colors[baseTrim],
                            backgroundColor: colors[baseTrim] + '20',
                            borderWidth: window.innerWidth < 768 ? 2 : 3,
                            fill: false,
                            tension: 0.4,
                            pointRadius: function(context) {
                                const baseRadius = window.innerWidth < 768 ? 2 : 3;
                                const projectionRadius = window.innerWidth < 768 ? 3 : 5;
                                const originalIndex = monthIndices[context.dataIndex];
                                return originalIndex >= 12 ? projectionRadius : baseRadius;
                            },
                            pointHoverRadius: window.innerWidth < 768 ? 6 : 8,
                            borderDash: function(context) {
                                const originalIndex = monthIndices[context.dataIndex];
                                return originalIndex >= 12 ? [5, 5] : [];
                            }
                        });
                    }
                }
            });
            
            return {
                labels: filteredMonths,
                datasets: filteredDatasets
            };
        }

        // Function to update the chart
        function updateChart() {
            if (priceChart) {
                const filteredData = getFilteredData();
                priceChart.data = filteredData;
                priceChart.update('active');
            }
        }

        // Initialize trim filtering on page load
        filterTrimsByYear();

        // Create the chart with responsive options
        const ctx = document.getElementById('priceChart').getContext('2d');
        const initialData = getFilteredData();
        priceChart = new Chart(ctx, {
            type: 'line',
            data: initialData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: window.innerWidth < 768 ? 
                            'Cadillac Lyriq - 33-Month Price Trends' : 
                            'Cadillac Lyriq - Extended 33-Month Price Analysis (Historical + Projected)',
                        font: { 
                            size: window.innerWidth < 768 ? 14 : 18, 
                            weight: 'bold' 
                        },
                        color: '#ffffff',
                        padding: window.innerWidth < 768 ? 15 : 20
                    },
                    legend: {
                        position: window.innerWidth < 768 ? 'bottom' : 'right',
                        labels: {
                            color: '#ffffff',
                            font: { size: window.innerWidth < 768 ? 9 : 11 },
                            usePointStyle: true,
                            padding: window.innerWidth < 768 ? 8 : 12,
                            boxWidth: window.innerWidth < 768 ? 8 : 12,
                            boxHeight: window.innerWidth < 768 ? 8 : 12
                        }
                    }
                },
                scales: {
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { 
                            color: '#ffffff', 
                            font: { size: window.innerWidth < 768 ? 8 : 10 },
                            maxRotation: window.innerWidth < 768 ? 90 : 45
                        },
                        title: {
                            display: window.innerWidth >= 768,
                            text: 'Time Period (Solid: Historical | Dashed: Projected)',
                            color: '#ffffff',
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    y: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { 
                            color: '#ffffff',
                            font: { size: window.innerWidth < 768 ? 8 : 12 },
                            callback: function(value) {
                                if (window.innerWidth < 768) {
                                    return '$' + (value / 1000).toFixed(0) + 'k';
                                }
                                return '$' + value.toLocaleString();
                            }
                        },
                        title: {
                            display: window.innerWidth >= 768,
                            text: 'Average Used Car Price',
                            color: '#ffffff',
                            font: { size: 14, weight: 'bold' }
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                elements: {
                    point: {
                        hoverBackgroundColor: '#ffd700'
                    }
                },
                onHover: (event, elements) => {
                    event.native.target.style.cursor = elements.length > 0 ? 'pointer' : 'default';
                }
            }
        });

        // Add projection marker after chart renders
        setTimeout(() => {
            const projectionMarker = document.createElement('div');
            projectionMarker.innerHTML = window.innerWidth < 768 ? 
                '<span style="color: #ffd700; font-size: 10px;">↑ Jan 2025 Projection</span>' :
                '<span style="color: #ffd700; font-size: 12px;">↑ Jan 2025 - Projection Starts</span>';
            projectionMarker.style.position = 'absolute';
            projectionMarker.style.top = '10px';
            projectionMarker.style.left = window.innerWidth < 768 ? '50%' : '60%';
            projectionMarker.style.transform = window.innerWidth < 768 ? 'translateX(-50%)' : 'none';
            projectionMarker.style.zIndex = '10';
            document.querySelector('.chart-container').appendChild(projectionMarker);
        }, 500);

        // Event listeners for controls
        document.getElementById('yearSelect').addEventListener('change', function() {
            filterTrimsByYear();
            updateChart();
        });
        document.getElementById('trimSelect').addEventListener('change', updateChart);
        document.getElementById('awdCheckbox').addEventListener('change', updateChart);
        
        document.getElementById('selectAllTrims').addEventListener('click', function() {
            const trimSelect = document.getElementById('trimSelect');
            Array.from(trimSelect.options).forEach(option => option.selected = true);
            updateChart();
        });
        
        document.getElementById('clearAllTrims').addEventListener('click', function() {
            const trimSelect = document.getElementById('trimSelect');
            Array.from(trimSelect.options).forEach(option => option.selected = false);
            updateChart();
        });

        // Handle window resize for chart responsiveness
        window.addEventListener('resize', function() {
            if (priceChart) {
                priceChart.options.plugins.title.text = window.innerWidth < 768 ? 
                    'Cadillac Lyriq - 33-Month Price Trends' : 
                    'Cadillac Lyriq - Extended 33-Month Price Analysis (Historical + Projected)';
                priceChart.options.plugins.title.font.size = window.innerWidth < 768 ? 14 : 18;
                priceChart.options.plugins.legend.position = window.innerWidth < 768 ? 'bottom' : 'right';
                priceChart.options.plugins.legend.labels.font.size = window.innerWidth < 768 ? 9 : 11;
                priceChart.options.plugins.legend.labels.padding = window.innerWidth < 768 ? 8 : 12;
                priceChart.options.scales.x.ticks.font.size = window.innerWidth < 768 ? 8 : 10;
                priceChart.options.scales.x.ticks.maxRotation = window.innerWidth < 768 ? 90 : 45;
                priceChart.options.scales.x.title.display = window.innerWidth >= 768;
                priceChart.options.scales.y.ticks.font.size = window.innerWidth < 768 ? 8 : 12;
                priceChart.options.scales.y.title.display = window.innerWidth >= 768;
                
                // Update datasets for mobile
                priceChart.data.datasets.forEach(dataset => {
                    dataset.borderWidth = window.innerWidth < 768 ? 2 : 3;
                    dataset.pointHoverRadius = window.innerWidth < 768 ? 6 : 8;
                });
                
                priceChart.update();
                
                // Update projection marker position
                const marker = document.querySelector('.chart-container div');
                if (marker) {
                    marker.innerHTML = window.innerWidth < 768 ? 
                        '<span style="color: #ffd700; font-size: 10px;">↑ Jan 2025 Projection</span>' :
                        '<span style="color: #ffd700; font-size: 12px;">↑ Jan 2025 - Projection Starts</span>';
                    marker.style.left = window.innerWidth < 768 ? '50%' : '60%';
                    marker.style.transform = window.innerWidth < 768 ? 'translateX(-50%)' : 'none';
                }
            }
        });
    </script>
</body>
</html>